{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,gDAKsBC,EAAqBC,G,OAArBC,EAAoBC,MAAAC,KAAAC,W,SAApBH,I,OAAAA,EAAfI,EAAAR,EAAA,CAAAQ,EAAAC,GAAAC,MAAA,SAAAC,EAAoCR,G,IACnCS,EAEAC,E,yEAFAD,EAAQ,YAAoBE,OAARC,EAAAC,S,SAEHR,EAAAS,EAAA,CAAM,YAAiBH,OAALX,GAAWW,OAANF,I,cAAxCC,EAAQK,EAAAC,K,kBAEPN,EAASO,M,4CALwBf,MAAAC,KAAAC,WAF1CC,EAAAS,GAAMI,SAASC,QAAUP,EAAAQ,ICDzB,IAAMC,EAAO,CACXC,WAAYC,SAASC,cAAc,iBACnCC,UAAWF,SAASC,cAAc,eAClCE,MAAOH,SAASC,cAAc,UAC9BG,YAAaJ,SAASC,cAAc,UAGtCI,QAAQC,IAAI,iBAAkBR,EAAKM,aAInCN,EAAKC,WAAWQ,iBAAiB,SAIjC,SAA2BC,GACzB,GAAIA,EAAMC,OAAOC,UAAUC,SAAS,gBAClC,OAIFnC,EAFegC,EAAMC,OAAOG,QAAQ,SAASnC,IAG1CoC,MAAK,SAAAC,GAoGV,IACQC,EAJNjB,EAAKM,YAAYY,UAAY,GAIvBD,EAxFR,SAA+BrB,GAC7B,IACEuB,EAQEvB,EARFuB,YACAC,EAOExB,EAPFwB,MACAC,EAMEzB,EANFyB,aACAC,EAKE1B,EALF0B,WACAC,EAIE3B,EAJF2B,WACAC,EAGE5B,EAHF4B,eACAC,EAEE7B,EAFF6B,OACAC,EACE9B,EADF8B,SAKF,OAFAnB,QAAQC,IAAI,cAAeW,GAEpB,8FAQyB7B,OALc6B,EAAY,oHAYY7B,OAPtC8B,EAAM,4PASO9B,OAFyB+B,EAAa,wFAQzC/B,OANGgC,EAAW,8LAY1ChC,OAN4BiC,EAAW,yNAYXjC,OAN5BkC,EAAe,mLAejBlC,OAT8BmC,EAC7BE,KAAI,SAAAC,G,OAASA,EAAMC,QACnBC,KAAK,MAAM,2MAOHxC,OAAToC,EAAS,kiBA8BGK,CAnGJf,GAoGpBhB,EAAKM,YAAY0B,mBAAmB,YAAaf,GAnG7CjB,EAAKK,MAAMO,UAAUqB,OAAO,gBAE7BC,OAAM,SAAAC,GACL5B,QAAQC,IAAI2B,EAAIC,SAChB7B,QAAQC,IAAI2B,EAAIE,Y","sources":["src/js/fetch-film-details.js","src/js/open-film-modal.js"],"sourcesContent":["import axios from 'axios';\nimport { URL, API_KEY } from './variables';\n\naxios.defaults.baseURL = URL;\n\nexport async function fetchFilmDetailsById(id) {\n  const query = `?api_key=${API_KEY}`;\n\n  const response = await axios(`/3/movie/${id}${query}`);\n\n  return response.data;\n}\n","import { fetchFilmDetailsById } from './fetch-film-details';\n\nconst refs = {\n  galleryBox: document.querySelector('.gallery__box'),\n  filmModal: document.querySelector('.film-modal'),\n  modal: document.querySelector('.modal'),\n  filmArticle: document.querySelector('.film'),\n};\n\nconsole.log('film article: ', refs.filmArticle);\n\n// -------------EVENT LISTENERS-------------\n\nrefs.galleryBox.addEventListener('click', onGalleryBoxClick);\n\n// -------------EVENT HANDLERS-------------\n\nfunction onGalleryBoxClick(event) {\n  if (event.target.classList.contains('gallery__box')) {\n    return;\n  }\n  const filmId = event.target.closest('.card').id;\n\n  fetchFilmDetailsById(filmId)\n    .then(filmDetails => {\n      clearFilmModalMarkup();\n      renderFilmModal(filmDetails);\n      refs.modal.classList.remove('is-hidden');\n    })\n    .catch(err => {\n      console.log(err.message);\n      console.log(err.code);\n    });\n}\n\n// -------------FUNCTIONS-------------\n\nfunction createFilmModalMarkup(data) {\n  const {\n    poster_path,\n    title,\n    vote_average,\n    vote_count,\n    popularity,\n    original_title,\n    genres,\n    overview,\n  } = data;\n\n  console.log('poster path', poster_path);\n\n  return `\n      <img\n          class=\"film__image\"\n          src=\"https://image.tmdb.org/t/p/w400${poster_path}\"\n          alt=\"Film Image\"\n        />\n\n      <div class=\"film__content\">\n        <h2 class=\"film__title\">${title}</h2>\n\n        <ul class=\"film-info\">\n          <li class=\"film-info__item\">\n            <p class=\"film-info__lable\">Vote / Votes</p>\n\n            <div class=\"film-vote\">\n              <span class=\"film-vote__lable film-vote__lable--orange\">${vote_average}</span>\n              <span>/</span>\n              <span class=\"film-vote__lable\">${vote_count}</span>\n            </div>\n          </li>\n\n          <li class=\"film-info__item\">\n            <p class=\"film-info__lable\">Popularity</p>\n            <span class=\"film-info__text\">${popularity}</span>\n          </li>\n\n          <li class=\"film-info__item\">\n            <p class=\"film-info__lable\">Original Title</p>\n            <span class=\"film-info__text film-info__text--uppercase\">\n              ${original_title}\n            </span>\n          </li>\n\n          <li class=\"film-info__item\">\n            <p class=\"film-info__lable\">Genre</p>\n            <span class=\"film-info__text\">${genres\n              .map(genre => genre.name)\n              .join(', ')}</span>\n          </li>\n        </ul>\n\n        <div class=\"film-description\">\n          <h3 class=\"film-description__title\">About</h3>\n          <p class=\"film-description__text\">\n            ${overview}\n          </p>\n        </div>\n\n        <ul class=\"film-button\">\n          <li class=\"film-button__item\">\n            <button\n              class=\"film-button__primary film-button__primary--active\"\n              type=\"button\"\n            >\n              Add to Watched\n            </button>\n          </li>\n\n          <li class=\"film-button__item\">\n            <button class=\"film-button__primary\" type=\"button\">\n              Add to Queue\n            </button>\n          </li>\n        </ul>\n      </div>\n    </article>\n`;\n}\n\nfunction clearFilmModalMarkup() {\n  refs.filmArticle.innerHTML = '';\n}\n\nfunction renderFilmModal(data) {\n  const fiimModalMarkup = createFilmModalMarkup(data);\n  refs.filmArticle.insertAdjacentHTML('beforeend', fiimModalMarkup);\n}\n"],"names":["$bpxeT","parcelRequire","$7eb23c63710d421d$export$c2a6c4285e533175","id","$7eb23c63710d421d$var$_fetchFilmDetailsById","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","query","response","concat","$8oFZ1","API_KEY","$dIxxU","_ctx","sent","data","defaults","baseURL","URL","$298ebeaa8d4e5460$var$refs","galleryBox","document","querySelector","filmModal","modal","filmArticle","console","log","addEventListener","event","target","classList","contains","closest","then","filmDetails","fiimModalMarkup","innerHTML","poster_path","title","vote_average","vote_count","popularity","original_title","genres","overview","map","genre","name","join","$298ebeaa8d4e5460$var$createFilmModalMarkup","insertAdjacentHTML","remove","catch","err","message","code"],"version":3,"file":"index.6e92013c.js.map"}