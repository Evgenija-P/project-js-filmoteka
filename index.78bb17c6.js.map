{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAKOC,eAAeC,EAAqBC,GACzC,MAAMC,EAAQ,YAAYC,EAAAC,UAI1B,aAFuBC,EAAAR,EAAA,CAAM,YAAYI,IAAKC,MAE9BI,KAPlBD,EAAAR,GAAMU,SAASC,QAAUL,EAAAM,ICDzB,MAAMC,EAAO,CACXC,WAAYC,SAASC,cAAc,iBACnCC,UAAWF,SAASC,cAAc,eAClCE,MAAOH,SAASC,cAAc,UAC9BG,YAAaJ,SAASC,cAAc,UAGtCI,QAAQC,IAAI,iBAAkBR,EAAKM,aAInCN,EAAKC,WAAWQ,iBAAiB,SAIjC,SAA2BC,GACzB,GAAIA,EAAMC,OAAOC,UAAUC,SAAS,gBAClC,OAIFvB,EAFeoB,EAAMC,OAAOG,QAAQ,SAASvB,IAG1CwB,MAAKC,IAiGRhB,EAAKM,YAAYW,UAAY,GAG/B,SAAyBrB,GACvB,MAAMsB,EAxFR,SAA+BtB,GAC7B,MAAMuB,YACJA,EAAWC,MACXA,EAAKC,aACLA,EAAYC,WACZA,EAAUC,WACVA,EAAUC,eACVA,EAAcC,OACdA,EAAMC,SACNA,GACE9B,EAIJ,OAFAW,QAAQC,IAAI,cAAeW,GAEpB,8FAGuCA,oHAKdC,4PAOsCC,wFAEzBC,8LAMHC,yNAM5BC,mLAM4BC,EAC7BE,KAAIC,GAASA,EAAMC,OACnBC,KAAK,+MAONJ,kiBA8BYK,CAAsBnC,GAC9CI,EAAKM,YAAY0B,mBAAmB,YAAad,GApG7Ce,CAAgBjB,GAChBhB,EAAKK,MAAMO,UAAUsB,OAAO,gBAE7BC,OAAMC,IACL7B,QAAQC,IAAI4B,EAAIC,SAChB9B,QAAQC,IAAI4B,EAAIE","sources":["src/js/fetch-film-details.js","src/js/open-film-modal.js"],"sourcesContent":["import axios from 'axios';\nimport { URL, API_KEY } from './variables';\n\naxios.defaults.baseURL = URL;\n\nexport async function fetchFilmDetailsById(id) {\n  const query = `?api_key=${API_KEY}`;\n\n  const response = await axios(`/3/movie/${id}${query}`);\n\n  return response.data;\n}\n","import { fetchFilmDetailsById } from './fetch-film-details';\n\nconst refs = {\n  galleryBox: document.querySelector('.gallery__box'),\n  filmModal: document.querySelector('.film-modal'),\n  modal: document.querySelector('.modal'),\n  filmArticle: document.querySelector('.film'),\n};\n\nconsole.log('film article: ', refs.filmArticle);\n\n// -------------EVENT LISTENERS-------------\n\nrefs.galleryBox.addEventListener('click', onGalleryBoxClick);\n\n// -------------EVENT HANDLERS-------------\n\nfunction onGalleryBoxClick(event) {\n  if (event.target.classList.contains('gallery__box')) {\n    return;\n  }\n  const filmId = event.target.closest('.card').id;\n\n  fetchFilmDetailsById(filmId)\n    .then(filmDetails => {\n      clearFilmModalMarkup();\n      renderFilmModal(filmDetails);\n      refs.modal.classList.remove('is-hidden');\n    })\n    .catch(err => {\n      console.log(err.message);\n      console.log(err.code);\n    });\n}\n\n// -------------FUNCTIONS-------------\n\nfunction createFilmModalMarkup(data) {\n  const {\n    poster_path,\n    title,\n    vote_average,\n    vote_count,\n    popularity,\n    original_title,\n    genres,\n    overview,\n  } = data;\n\n  console.log('poster path', poster_path);\n\n  return `\n      <img\n          class=\"film__image\"\n          src=\"https://image.tmdb.org/t/p/w400${poster_path}\"\n          alt=\"Film Image\"\n        />\n\n      <div class=\"film__content\">\n        <h2 class=\"film__title\">${title}</h2>\n\n        <ul class=\"film-info\">\n          <li class=\"film-info__item\">\n            <p class=\"film-info__lable\">Vote / Votes</p>\n\n            <div class=\"film-vote\">\n              <span class=\"film-vote__lable film-vote__lable--orange\">${vote_average}</span>\n              <span>/</span>\n              <span class=\"film-vote__lable\">${vote_count}</span>\n            </div>\n          </li>\n\n          <li class=\"film-info__item\">\n            <p class=\"film-info__lable\">Popularity</p>\n            <span class=\"film-info__text\">${popularity}</span>\n          </li>\n\n          <li class=\"film-info__item\">\n            <p class=\"film-info__lable\">Original Title</p>\n            <span class=\"film-info__text film-info__text--uppercase\">\n              ${original_title}\n            </span>\n          </li>\n\n          <li class=\"film-info__item\">\n            <p class=\"film-info__lable\">Genre</p>\n            <span class=\"film-info__text\">${genres\n              .map(genre => genre.name)\n              .join(', ')}</span>\n          </li>\n        </ul>\n\n        <div class=\"film-description\">\n          <h3 class=\"film-description__title\">About</h3>\n          <p class=\"film-description__text\">\n            ${overview}\n          </p>\n        </div>\n\n        <ul class=\"film-button\">\n          <li class=\"film-button__item\">\n            <button\n              class=\"film-button__primary film-button__primary--active\"\n              type=\"button\"\n            >\n              Add to Watched\n            </button>\n          </li>\n\n          <li class=\"film-button__item\">\n            <button class=\"film-button__primary\" type=\"button\">\n              Add to Queue\n            </button>\n          </li>\n        </ul>\n      </div>\n    </article>\n`;\n}\n\nfunction clearFilmModalMarkup() {\n  refs.filmArticle.innerHTML = '';\n}\n\nfunction renderFilmModal(data) {\n  const fiimModalMarkup = createFilmModalMarkup(data);\n  refs.filmArticle.insertAdjacentHTML('beforeend', fiimModalMarkup);\n}\n"],"names":["$2shzp","parcelRequire","async","$2fa92f6a8e8eb966$export$c2a6c4285e533175","id","query","$e4SnA","API_KEY","$parcel$interopDefault","data","defaults","baseURL","URL","$1a02b3edbe186a0f$var$refs","galleryBox","document","querySelector","filmModal","modal","filmArticle","console","log","addEventListener","event","target","classList","contains","closest","then","filmDetails","innerHTML","fiimModalMarkup","poster_path","title","vote_average","vote_count","popularity","original_title","genres","overview","map","genre","name","join","$1a02b3edbe186a0f$var$createFilmModalMarkup","insertAdjacentHTML","$1a02b3edbe186a0f$var$renderFilmModal","remove","catch","err","message","code"],"version":3,"file":"index.78bb17c6.js.map"}